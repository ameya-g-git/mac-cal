(()=>{function e(e){let t=[],n="",o=!1;for(const c of e){if(o?n+=c:t.push(c),"{"===c){if(t.pop(),"\\"===t[t.length-1]){t.pop(),t.push("{");continue}o=!0}if("}"===c){if(o=!1,n=n.slice(0,-1),!n)continue;switch(n){case"code":t.push("MATH 1ZA3");break;case"type":t.push("LEC");break;case"sec":t.push("C01");break;case"room":t.push("PGCLL 127");break;default:t.push(`{${n}}`)}n=""}}if(o)throw new SyntaxError("Curly brace not closed.");const c=t.join("");return c.length>45?c.slice(0,42)+"...":c}window.addEventListener("pageshow",()=>{!async function(){await browser.tabs.query({active:!0,currentWindow:!0}).then(e=>{if(!e[0].url.match(/.*:\/\/mytimetable\.mcmaster\.ca/))throw document.getElementById("wrong-page-content").className="",document.getElementById("popup-content").className="hidden",new Error("Wrong website!")})}();const t=document.getElementById("format-spec"),n=document.getElementById("block-title"),o=document.getElementById("format-info"),c=document.getElementById("block-loc");o.addEventListener("mouseenter",e=>{document.getElementById("modal").style.display="block"}),o.addEventListener("mouseleave",()=>{console.log("left"),document.getElementById("modal").style.display="none"}),document.getElementById("room-loc").addEventListener("input",()=>{document.getElementById("room-loc").checked?c.style.display="block":c.style.display="none"}),document.querySelectorAll("#format-btns>*").forEach(o=>{const[c,l]=o.id.split("-");o.addEventListener("click",o=>{o.preventDefault(),t.value+=`{${l}} `,n.innerText=e(t.value)})}),t.addEventListener("input",o=>{try{n.innerText=e(t.value),document.getElementById("format-err").style.display="none"}catch{document.getElementById("format-err").style.display="inline-block"}}),document.getElementById("popup-content").addEventListener("submit",e=>{console.log("sun,to"),tabId=0,browser.tabs.query({active:!0,currentWindow:!0}).then(()=>{browser.runtime.sendMessage({nameFormat:t.value,includeLoc:c.checked})}).catch(e=>console.error(e))})})})();
//# sourceMappingURL=settings.js.map