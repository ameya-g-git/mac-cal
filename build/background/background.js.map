{"version":3,"file":"background/background.js","mappings":"AAIAA,OAAOC,QAAQC,UAAUC,YAAaC,IACpCC,QAAQC,IAAIF,GAEZG,MAAQ,EAEJH,EAAII,YATVC,iBACE,OAAOT,OAAOU,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,GAC1D,CAQIC,GACGC,KAAML,GACGH,MAAQG,EAAK,GAAGM,IAEzBD,KAAMR,GACLP,OAAOU,KAAKO,YAAYV,EAAO,CAC7BC,WAAYJ,EAAII,cAGnBO,KAAK,IAAMV,QAAQC,IAAI,iBACvBY,MAAOC,IACNd,QAAQC,IACN,gEAEFN,OAAOoB,UAAUC,cAAc,CAC7BC,OAAQ,CAAEf,OACVgB,MAAO,CAAC,2BAEVC,WAAW,KACTxB,OAAOU,KAAKO,YAAYV,MAAO,IAC1BH,KAEJ","sources":["webpack://mac-cal/./src/background/background.js"],"sourcesContent":["async function getCurrentTab() {\n  return chrome.tabs.query({ active: true, currentWindow: true });\n}\n\nchrome.runtime.onMessage.addListener((req) => {\n  console.log(req);\n\n  tabId = 0;\n\n  if (req.nameFormat)\n    getCurrentTab()\n      .then((tabs) => {\n        return (tabId = tabs[0].id);\n      })\n      .then((tabId) =>\n        chrome.tabs.sendMessage(tabId, {\n          nameFormat: req.nameFormat,\n        }),\n      )\n      .then(() => console.log(\"sent message\"))\n      .catch((e) => {\n        console.log(\n          \"content script not installed, installing and sending message\",\n        );\n        chrome.scripting.executeScript({\n          target: { tabId: tabId },\n          files: [\"../content/content.js\"],\n        });\n        setTimeout(() => {\n          chrome.tabs.sendMessage(tabId, {\n            ...req,\n          });\n        }, 100);\n      });\n});\n"],"names":["chrome","runtime","onMessage","addListener","req","console","log","tabId","nameFormat","async","tabs","query","active","currentWindow","getCurrentTab","then","id","sendMessage","catch","e","scripting","executeScript","target","files","setTimeout"],"sourceRoot":""}